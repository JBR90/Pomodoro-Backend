(this.webpackJsonppom=this.webpackJsonppom||[]).push([[0],{30:function(n,e,t){},34:function(n,e,t){},52:function(n,e){},53:function(n,e,t){"use strict";t.r(e);var r,a,o,c,i,s,u=t(1),l=t.n(u),d=t(22),p=t.n(d),f=(t(30),t(2)),b=t.n(f),x=t(6),g=t(5),h=t(3),j=t(4),m="#ff6347",v="#ffc1b5",O="#FEDDD8",w="#666666",k=j.a.div(r||(r=Object(h.a)(["\n  width: 100%;\n\n  header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  h3 {\n    margin: 20px;\n  }\n\n  button {\n    font-size: 20px;\n    margin: 10px;\n    padding: 0;\n    border: none;\n    background: none;\n    cursor: pointer;\n  }\n"]))),y=t(0),S=function(n){var e=n.state,t=n.number,r=n.handleClick;return Object(y.jsx)(k,{isActive:e,children:Object(y.jsxs)("header",{children:[Object(y.jsx)("h3",{children:e?"Pomodoro # ".concat(t):"Take a break"}),Object(y.jsx)("button",{onClick:r,children:">>"})]})})},T=j.a.div(a||(a=Object(h.a)(["\n\n  margin: 0px;\n  padding: 10px;\n  display: flex;\n  border-top: solid black thin;\n  \n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  h1 {\n    // border: solid black;\n    margin: 0px;\n    padding: 10px;\n    font-size: 80px;\n\n    text-align: center;\n  }\n  button {\n    box-shadow: inset 0px 1px 0px 0px #ffffff;\n    background: linear-gradient(to bottom, #ffffff 5%, #f6f6f6 100%);\n    background-color: #ffffff;\n    border-radius: 6px;\n    border: 1px solid #dcdcdc;\n    display: inline-block;\n    cursor: pointer;\n    color: #666666;\n    font-family: Arial;\n    font-size: 15px;\n    font-weight: bold;\n    padding: 8px 24px;\n    margin-bottom: 10px;\n    text-decoration: none;\n    text-shadow: 0px 1px 0px #ffffff;\n    visibility: ","\n  \n    &:hover {\n      background: linear-gradient(to bottom, #f6f6f6 5%, #ffffff 100%);\n      background-color: #f6f6f6;\n    }\n  }\n"])),(function(n){return n.state?"visible;":"hidden;"})),A=function(n){var e=n.minute,t=n.second,r=n.handleTimeButton,a=n.isActive,o=n.state;return Object(y.jsxs)(T,{state:o,children:[Object(y.jsx)("h1",{children:"".concat(e,":").concat(t)}),Object(y.jsx)("button",{onClick:r,children:a?"Restart":"Start"})]})},C=j.a.div(o||(o=Object(h.a)(["\n  border: solid black thin;\n  width: 80%;\n  margin: auto;\n  margin-top: 30px;\n  margin-bottom: 30px;\n  border-radius: 20px;\n  box-shadow: rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px;\n\n  transition: background 0.5s ease;\n  background-color: ",";\n"])),(function(n){return n.isActive?m:O})),L=function(n){var e=n.state,t=n.number,r=n.handleClick,a=n.minute,o=n.second,c=n.handleTimeButton,i=n.isActive;return Object(y.jsxs)(C,{isActive:e,children:[Object(y.jsx)(S,{state:e,number:t,handleClick:r}),Object(y.jsx)(A,{minute:a,second:o,handleTimeButton:c,isActive:i,state:e})]})},N=j.a.div(c||(c=Object(h.a)(["\n  border: solid black thin;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n  margin: auto;\n  margin-bottom: 10px;\n  width: 60%;\n  box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px,\n    rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\n\n  background-color: ",";\n  button {\n    opacity: 0.9;\n    border: none;\n    margin-left: 10px;\n    border-radius: 50%;\n    padding: 3px 7px;\n\n    :hover {\n      transform: scale(1.1);\n    }\n  }\n  .todo {\n    text-decoration: ",";\n  }\n  ",";\n"])),(function(n){return n.status?O:v}),(function(n){return n.status?"line-through":"none"}),(function(n){return n.status?"":":hover { opacity:0.8}"})),U=function(n){var e=n.todo,t=n.id,r=n.status,a=n.handleDeleteTodo,o=n.handleTodoStatus;return Object(y.jsx)("div",{children:Object(y.jsxs)(N,{status:r,onClick:function(){return o(t)},children:[Object(y.jsx)("span",{className:"todo",children:"\ud83c\udf45 : ".concat(e)}),Object(y.jsxs)("span",{children:[Object(y.jsx)("button",{value:t,onClick:a,children:"\u274c"})," "]})]})})},D=j.a.div(i||(i=Object(h.a)(["\n  /* border: solid black thin; */\n"]))),z=function(n){var e=n.todos,t=n.handleDeleteTodo,r=n.handleTodoStatus;return console.log(e),Object(y.jsx)(D,{children:e.map((function(n){return Object(y.jsx)(U,{todo:n.todo,status:n.status,id:n.id,handleDeleteTodo:t,handleTodoStatus:r},n._id)}))})},P=(t(34),j.a.div(s||(s=Object(h.a)(["\n  margin: auto;\n  width: 80%;\n  margin-bottom: 20px;\n  form {\n    /* border: solid black thin; */\n    display: flex;\n    padding: 10px;\n\n    input {\n      width: 100%;\n      padding: 10px;\n      box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px,\n        rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\n      border: none;\n    }\n    button {\n      box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px,\n        rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\n      padding: 10px 15px;\n      margin: 0px 10px 0px 0px;\n      white-space: nowrap;\n      border: none;\n    }\n  }\n"])))),R=function(n){var e=n.handleNewTodo,t=n.newTodo,r=n.addTodo;return Object(y.jsx)(P,{children:Object(y.jsxs)("form",{onSubmit:r,children:[Object(y.jsx)("button",{type:"submit",children:"Add a Todo"}),Object(y.jsx)("input",{type:"text",value:t,onChange:e})]})})},I=t(8),B=t.n(I),F="/api/pom",E=null;function V(){return(V=Object(x.a)(b.a.mark((function n(){var e,t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={headers:{Authorization:E}},n.next=3,B.a.get(F,e);case 3:return t=n.sent,n.abrupt("return",t.data);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var J,H,M,W={getAll:function(){return V.apply(this,arguments)},deleteTodo:function(n){var e={headers:{Authorization:E}};return B.a.delete("".concat(F,"/").concat(n),e)},create:function(){var n=Object(x.a)(b.a.mark((function n(e){var t,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:E}},n.next=3,B.a.post(F,e,t);case 3:return r=n.sent,n.abrupt("return",r.data);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),updateTodo:function(){var n=Object(x.a)(b.a.mark((function n(e,t){var r,a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={headers:{Authorization:E}},n.next=3,B.a.put("".concat(F,"/").concat(e),t,r);case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),setToken:function(n){E="bearer ".concat(n)}},G=(t(52),j.a.div(J||(J=Object(h.a)(["\n  position: fixed;\n  background-color: ",";\n  right: 10px;\n  top: 130px;\n  /* width: 200px; */\n  border: solid black thin;\n  border-radius: 10px;\n  padding: 10px 15px 10px 15px;\n\n  input {\n    text-align: center;\n    width: 100%;\n    height: 25px;\n  }\n  ::placeholder {\n    text-align: center;\n\n    color: blue;\n    opacity: 1; /* Firefox */\n  }\n  .cancel-btn {\n    /* position: fixed; */\n    /* top: 15px;\n    right: 0; */\n    float: right;\n    padding: 0;\n    /* margin: 0; */\n    background: none;\n    border: none;\n    cursor: pointer;\n  }\n  .login-btns {\n    display: grid;\n\n    grid-template-columns: 1fr 1fr;\n    /* justify-content: space-around; */\n    button {\n      /* color: ","; */\n    }\n  }\n"])),(function(n){return m}),(function(n){return w}))),Y=(j.a.button(H||(H=Object(h.a)(["\n  box-shadow: inset 0px 1px 0px 0px #ffffff;\n  background: linear-gradient(to bottom, #ffffff 5%, #f6f6f6 100%);\n  background-color: #ffffff;\n\n  /* border: 1px solid #dcdcdc; */\n\n  cursor: pointer;\n  color: #666666;\n  font-family: Arial;\n\n  font-weight: bold;\n\n  margin-bottom: 10px;\n  text-decoration: none;\n  text-shadow: 0px 1px 0px #ffffff;\n"]))),function(n){var e=n.username,t=n.password,r=n.setUsername,a=n.setPassword,o=n.handleLogin,c=n.handleLogout,i=n.handleSignUp,s=n.user,l=n.message,d=Object(u.useRef)();return Object(y.jsxs)(G,{children:[null===s&&Object(y.jsxs)("form",{ref:d,onSubmit:o,children:[Object(y.jsx)("div",{className:"auth",children:Object(y.jsx)("input",{type:"text",value:e,name:"Username",placeholder:"username",onChange:function(n){var e=n.target;return r(e.value)}})}),Object(y.jsx)("div",{className:"auth",children:Object(y.jsx)("input",{type:"password",value:t,name:"Password",placeholder:"password",onChange:function(n){var e=n.target;return a(e.value)}})}),Object(y.jsxs)("div",{className:"login-btns",children:[Object(y.jsx)("button",{type:"submit",children:"Login"}),Object(y.jsx)("button",{onClick:function(n){return i(n)},children:"Sign Up"})]}),Object(y.jsx)("span",{className:"msg",children:l})]}),null!==s&&Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:"Hi ".concat(s.username)}),Object(y.jsx)("button",{onClick:c,children:"Logout"})]})]})}),_={login:function(){var n=Object(x.a)(b.a.mark((function n(e){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.next=3,B.a.post("/api/login",e);case 3:return t=n.sent,console.log(t),n.abrupt("return",t.data);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},q={signup:function(){var n=Object(x.a)(b.a.mark((function n(e){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.next=3,B.a.post("/api/users",e);case 3:return t=n.sent,console.log(t),n.abrupt("return",t.data);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},K=l.a.forwardRef((function(n,e){var t=Object(u.useState)(!1),r=Object(g.a)(t,2),a=r[0],o=r[1],c={display:a?"none":""},i={display:a?"":"none"},s=function(){o(!a)};return Object(u.useImperativeHandle)(e,(function(){return{toggleVisibility:s}})),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{style:c}),Object(y.jsx)("div",{style:i,children:n.children})]})})),Q=j.a.div(M||(M=Object(h.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  .container {\n    display: flex;\n    flex-direction: column;\n    margin: 10px;\n\n    justify-content: center;\n    align-items: center;\n    justify-items: center;\n    /* border: solid black; */\n    /* img {\n      margin: 10px;\n    } */\n    p {\n      text-align: center;\n      /* padding: 8px; */\n      font-size: 15px;\n    }\n  }\n  h1 {\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    padding-top: 10px;\n    /* border: solid black; */\n    font-size: 60px;\n    text-align: center;\n  }\n  .tomato {\n    margin: 10px;\n    width: 50px;\n    :hover {\n      transform: scale(1.1);\n    }\n    :active {\n      transform: scale(0.7);\n    }\n  }\n\n  /* display: grid;\n  grid-template-columns: 1fr repeat(3, auto) 1fr;\n  grid-column-gap: 5px;\n  justify-items: center;\n  padding: 0px;\n  margin: 0px;\n  h1 {\n    grid-column-start: 3;\n  }\n  .login {\n    grid-column-start: 3;\n  } */\n"]))),X=t.p+"static/media/tomato.abeecff7.png",Z=function(n){var e=n.username,t=n.password,r=n.setUsername,a=n.setPassword,o=n.handleLogin,c=n.handleLogout,i=n.handleSignUp,s=n.user,l=n.handleResetTimer,d=(n.setLoginVisibility,n.message),p=Object(u.useRef)();return Object(y.jsxs)(Q,{children:[Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("img",{onClick:function(n){return l(n)},className:"tomato",src:X,alt:""}),Object(y.jsx)("p",{children:"Reset Timer"})]}),Object(y.jsx)("h1",{children:"Pomodoro Todo"}),Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("img",{onClick:function(){p.current.toggleVisibility()},className:"tomato",src:X,alt:""}),Object(y.jsx)("p",{children:"Login / Signup"}),Object(y.jsx)("div",{className:"login",children:Object(y.jsx)(K,{ref:p,user:s,buttonLabel:"login",children:Object(y.jsx)(Y,{username:e,setUsername:r,password:t,setPassword:a,handleLogin:o,handleLogout:c,handleSignUp:i,user:s,message:d})})})]})]})};var $=function(){var n=Object(u.useState)(1),e=Object(g.a)(n,2),t=e[0],r=e[1],a=Object(u.useState)(!0),o=Object(g.a)(a,2),c=o[0],i=o[1],s=Object(u.useState)("00"),l=Object(g.a)(s,2),d=l[0],p=l[1],f=Object(u.useState)("25"),h=Object(g.a)(f,2),j=h[0],m=h[1],v=Object(u.useState)(!1),O=Object(g.a)(v,2),w=O[0],k=O[1],S=Object(u.useState)(1500),T=Object(g.a)(S,2),A=T[0],C=T[1],N=Object(u.useState)(null),U=Object(g.a)(N,2),D=U[0],P=U[1],I=Object(u.useState)(""),B=Object(g.a)(I,2),F=B[0],E=B[1],V=Object(u.useState)(""),J=Object(g.a)(V,2),H=J[0],M=J[1],G=Object(u.useState)(null),Y=Object(g.a)(G,2),K=Y[0],Q=Y[1],X=Object(u.useState)(!1),$=Object(g.a)(X,2),nn=($[0],$[1]),en=Object(u.useState)([]),tn=Object(g.a)(en,2),rn=tn[0],an=tn[1],on=Object(u.useState)(""),cn=Object(g.a)(on,2),sn=cn[0],un=cn[1];Object(u.useRef)(),Object(u.useEffect)((function(){var n=window.localStorage.getItem("loggedTodoAppUser");if(console.log("loggedUser local stroage",n),n){var e=JSON.parse(n);Q(e),W.setToken(e.token)}}),[]),Object(u.useEffect)((function(){if(null==K)return null;!function(){var n=Object(x.a)(b.a.mark((function n(){var e;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("get todos from server"),n.next=3,W.getAll();case 3:e=n.sent,an(e||[{}]);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[K]),Object(u.useEffect)((function(){var n;return-1===A&&k(!1),w&&(n=setInterval((function(){var n=A%60,e=Math.floor(A/60),t=1===String(n).length?"0".concat(n):n,r=1===String(e).length?"0".concat(e):e;p(t),m(r),C((function(n){return n-1}))}),1e3)),function(){return clearInterval(n)}}),[w,A]);var ln=function(){k(!w),C(1500),m("25"),p("00"),k(!0)},dn=function(n){P(n),setTimeout((function(){P(null)}),5e3)},pn=function(){i(!c)},fn=function(){var n=Object(x.a)(b.a.mark((function n(e){var t,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),K){n.next=4;break}return alert("You must login to create a todo"),n.abrupt("return",null);case 4:return t={todo:sn,status:!1},n.prev=5,n.next=8,W.create(t);case 8:r=n.sent,an(rn.concat(r)),un(""),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(5),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[5,13]])})));return function(e){return n.apply(this,arguments)}}(),bn=function(){var n=Object(x.a)(b.a.mark((function n(e){var t,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.prev=1,(t=rn.find((function(n){return n.id.toString()===e}))).status?t.status=!1:t.status=!0,console.log("update todo",t),n.next=7,W.updateTodo(e,t);case 7:r=n.sent,an(rn.map((function(n){return n.id!==e?n:r}))),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}(),xn=function(){var n=Object(x.a)(b.a.mark((function n(e){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!window.confirm("Are you sure you want to delete ?")){n.next=6;break}return console.log(e.target.value),n.next=5,W.deleteTodo(e.target.value.toString());case 5:an(rn.filter((function(n){return n.id.toString()!==e.target.value})));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}(),gn=function(){var n=Object(x.a)(b.a.mark((function n(e){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),console.log("Loggin in with",F,H),n.prev=2,n.next=5,_.login({username:F,password:H});case 5:t=n.sent,window.localStorage.setItem("loggedTodoAppUser",JSON.stringify(t)),W.setToken(t.token),Q(t),E(""),M(""),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(2),dn("Wrong credentials"),console.log("Wrong Credentials");case 17:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(e){return n.apply(this,arguments)}}(),hn=function(){var n=Object(x.a)(b.a.mark((function n(e){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.prev=1,n.next=4,q.signup({username:F,password:H});case 4:t=n.sent,dn("".concat(t.username,", your account is created")),console.log(t),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),dn("Signup failed - try again"),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(Z,{username:F,setUsername:E,password:H,setPassword:M,handleLogin:gn,handleLogout:function(){console.log("handleLogout"),window.localStorage.clear(),an([]),Q(null),console.log("handle logout",rn)},handleSignUp:hn,user:K,handleResetTimer:function(n){console.log(n.target),k(!1),C(1500),m("25"),p("00"),r(1)},setLoginVisibility:nn,message:D}),Object(y.jsx)(L,{state:c,number:t,minute:j,second:d,isActive:w,handleTimeButton:ln,handleClick:function(n){r(c?t+1:t),c?(m("05"),p("00"),C(300)):ln(),pn()}}),Object(y.jsx)(R,{handleNewTodo:function(n){un(n.target.value)},newTodo:sn,addTodo:fn}),Object(y.jsx)(z,{todos:rn,handleDeleteTodo:xn,handleTodoStatus:bn})]})},nn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,54)).then((function(e){var t=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,c=e.getTTFB;t(n),r(n),a(n),o(n),c(n)}))};p.a.render(Object(y.jsx)(l.a.StrictMode,{children:Object(y.jsx)($,{})}),document.getElementById("root")),nn()}},[[53,1,2]]]);
//# sourceMappingURL=main.338c5d90.chunk.js.map